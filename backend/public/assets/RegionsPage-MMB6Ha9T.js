import{C as p,A as _,c as m,d as x,D as h}from"./index-Szo5Bekg.js";import{u as y,_ as v,L as b}from"./LoadingSpinner-C2ZbxMNq.js";import{d as C,g as k,c as D,a as i,b as t,f as d,i as A,u as r,e as w,F as N,r as R,t as l,o as a}from"./index-D3YILK1Z.js";const S={class:"space-y-6"},B={class:"flex items-center justify-between"},F={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},L={class:"card"},P={class:"h-80"},V={key:1,class:"flex items-center justify-center h-full text-gray-400"},j={class:"card"},E={class:"space-y-2 max-h-80 overflow-y-auto"},K={class:"flex items-center gap-3"},X={class:"text-2xl"},I={class:"font-medium text-gray-900"},M={class:"text-xs text-gray-400"},O={class:"text-right"},U={class:"font-medium text-gray-900"},$={class:"text-xs text-gray-400"},q={key:0,class:"text-center py-8 text-gray-400"},Q=C({__name:"RegionsPage",setup(z){p.register(_,m,x);const n=y();k(()=>{n.regions||n.fetchAll()});const c=D(()=>{var e;return((e=n.regions)==null?void 0:e.regions)??[]}),g={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:16}},tooltip:{backgroundColor:"#1f2937",titleColor:"#fff",bodyColor:"#fff",padding:12,cornerRadius:8}}};function u(e){return new Intl.NumberFormat("de-DE").format(e)}function f(e){if(e==="XX")return"üåê";const s=e.toUpperCase().split("").map(o=>127397+o.charCodeAt(0));return String.fromCodePoint(...s)}return(e,s)=>(a(),i("div",S,[t("div",B,[s[0]||(s[0]=t("h2",{class:"text-2xl font-bold text-gray-900"},"Regionen",-1)),A(v)]),r(n).isLoading&&!r(n).regions?(a(),d(b,{key:0})):(a(),i("div",F,[t("div",L,[s[1]||(s[1]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Verteilung",-1)),t("div",P,[r(n).regionChartData?(a(),d(r(h),{key:0,data:r(n).regionChartData,options:g},null,8,["data"])):(a(),i("div",V," Keine Daten verf√ºgbar "))])]),t("div",j,[s[2]||(s[2]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Alle Regionen",-1)),t("div",E,[(a(!0),i(N,null,R(c.value,o=>(a(),i("div",{key:o.code,class:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-gray-50"},[t("div",K,[t("span",X,l(f(o.code)),1),t("div",null,[t("p",I,l(o.name),1),t("p",M,l(o.code),1)])]),t("div",O,[t("p",U,l(u(o.views)),1),t("p",$,l(o.percentage)+"%",1)])]))),128)),c.value.length?w("",!0):(a(),i("div",q," Keine Daten verf√ºgbar "))])])]))]))}});export{Q as default};
